<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Nuestro Universo ‚ù§Ô∏è</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700&family=Great+Vibes&display=swap" rel="stylesheet">

<style>
*{margin:0;padding:0;box-sizing:border-box;}

body{
font-family:'Poppins',sans-serif;
color:white;
overflow-x:hidden;
background:#000814;
}

/* üåå Fondo estrellas */
.stars{
position:fixed;
width:100%;
height:100%;
background:transparent url('https://www.transparenttextures.com/patterns/stardust.png') repeat;
animation: moveStars 200s linear infinite;
z-index:-3;
}

@keyframes moveStars{
from{background-position:0 0;}
to{background-position:-10000px 5000px;}
}

/* ‚ú® Nebulosa */
.nebula{
position:fixed;
width:100%;
height:100%;
background:radial-gradient(circle at 20% 30%, rgba(114,9,183,0.6), transparent 40%),
radial-gradient(circle at 80% 70%, rgba(255,0,110,0.5), transparent 40%);
animation: pulse 8s ease-in-out infinite alternate;
z-index:-2;
transition: transform 0.2s, opacity 0.2s;
}

@keyframes pulse{
from{opacity:0.6;}
to{opacity:1;}
}

.container{
padding:80px 20px;
text-align:center;
}

h1{
font-family:'Great Vibes',cursive;
font-size:5em;
}

.subtitle{
opacity:0.8;
margin-bottom:60px;
}

.section{
margin:100px auto;
max-width:900px;
padding:40px;
background:rgba(255,255,255,0.05);
border-radius:20px;
backdrop-filter:blur(10px);
box-shadow:0 10px 40px rgba(0,0,0,0.6);
}

.counter{
font-size:1.8em;
margin-top:20px;
}

button{
margin-top:30px;
padding:15px 40px;
border:none;
border-radius:50px;
background:linear-gradient(45deg,#ff006e,#ff4d6d);
color:white;
font-size:1em;
cursor:pointer;
transition:0.3s;
}

button:hover{
transform:scale(1.1);
box-shadow:0 0 20px #ff4d6d;
}

/* ‚ù§Ô∏è Corazones */
.heart{
position:fixed;
color:#ff4d6d;
animation:float 7s linear infinite;
z-index:-1;
}

@keyframes float{
0%{transform:translateY(100vh);opacity:1;}
100%{transform:translateY(-10vh);opacity:0;}
}

#typed{
min-height:220px;
line-height:2.1em;
font-size:1.6em;
font-weight:300;
letter-spacing:0.6px;
}


#final{
margin-top:20px;
font-weight:bold;
font-size:1.3em;
color:#ffd60a;
}

/* üì∏ Galer√≠a */
.gallery{
display:grid;
grid-template-columns:repeat(auto-fit,minmax(250px,1fr));
gap:20px;
margin-top:40px;
}

.gallery img{
width:100%;
height:300px;
object-fit:cover;
border-radius:20px;
cursor:pointer;
transition:0.4s;
}

.gallery img:hover{
transform:scale(1.05);
}

/* Modal */
.modal{
display:none;
position:fixed;
z-index:1000;
padding-top:60px;
left:0;
top:0;
width:100%;
height:100%;
background:rgba(0,0,0,0.9);
}

.modal img{
display:block;
margin:auto;
max-width:80%;
max-height:80%;
border-radius:20px;
}

.close{
position:absolute;
top:30px;
right:40px;
font-size:40px;
cursor:pointer;
color:white;
}
</style>
</head>

<body>
<audio id="musica" loop>
  <source src="musica2.mp3" type="audio/mpeg">
</audio>

<div style="position:fixed;bottom:20px;right:20px;z-index:999;">
  <button onclick="playMusic()">‚ñ∂Ô∏è M√∫sica</button>
  <button onclick="pauseMusic()">‚è∏Ô∏è Pausar</button>
</div>
<div class="stars"></div>
<div class="nebula"></div>

<div class="container">

<h1>Feliz 14 de febrero‚ù§Ô∏è</h1>
<p class="subtitle">Cada recuerdo contigo es mi momento favorito ‚ú®</p>

<div class="section">
<h2>‚è≥ Nuestro tiempo juntos</h2>
<p class="counter" id="counter"></p>
</div>
<!-- üéÆ JUEGO -->
<div class="section">
<h2>üéÆ Atrapa los corazones</h2>
<p>Haz clic en 14 corazones ‚ù§Ô∏è</p>
<p>Puntos: <span id="score">0</span></p>
<button onclick="iniciarJuego()">Iniciar Juego üíñ</button>
</div>


<div class="section">
<h2>üíå Lo que siento por ti</h2>
<p id="typed"></p>
<button onclick="mostrarPregunta()">Haz clic aqu√≠ üí´</button>
<div id="final"></div>

<div id="respuesta" style="margin-top:20px; display:none;">
    <button onclick="respuestaSi()">S√≠ ‚ù§Ô∏è</button>
    <button onclick="respuestaSiempre()">Siempre üí´</button>
</div>

</div>

<div class="section">
<h2>üì∏ Nuestra Historia en Im√°genes</h2>
<div class="gallery" id="gallery"></div>

</div>
</div>  


<!-- Modal -->
<div id="myModal" class="modal">
<span class="close" onclick="closeModal()">&times;</span>
<img id="modalImg">
</div>

<script>

// üî• CAMBIA ESTA FECHA
const startDate = new Date("2020-11-22T00:00:00");

function updateCounter(){
const now = new Date();
const diff = now - startDate;

const days = Math.floor(diff/(1000*60*60*24));
const hours = Math.floor((diff/(1000*60*60))%24);
const minutes = Math.floor((diff/(1000*60))%60);
const seconds = Math.floor((diff/1000)%60);

document.getElementById("counter").innerHTML =
`${days} d√≠as, ${hours} horas, ${minutes} minutos y ${seconds} segundos ‚ù§Ô∏è`;
}


setInterval(updateCounter,1000);
updateCounter();



// ‚úçÔ∏è efecto m√°quina de escribir
const text = "Hay cosas que el tiempo no borra, y t√∫ eres una de ellas.\n\nDesde el momento en que llegaste a mi vida, supe que hab√≠a algo diferente, algo que no quer√≠a perder jam√°s. Hay recuerdos que se quedan grabados para siempre‚Ä¶ miradas, risas, abrazos que se sienten como hogar.\n\nQuiero que nunca olvides lo importante que eres para m√≠. Nunca olvides que tienes a alguien que cree en ti, que conf√≠a en tus sue√±os y que quiere verte volar tan alto como quieras llegar.\n\nSi alg√∫n d√≠a dudas, si alg√∫n d√≠a sientes miedo, recuerda que aqu√≠ estoy. Porque m√°s all√° de las palabras bonitas, mi intenci√≥n es quedarme, apoyarte y elegirte todos los d√≠as.\n\nHay historias que pasan‚Ä¶ y hay historias que se quedan para siempre. La nuestra quiero que sea de esas que nunca se olvidan.";
    let i = 0;

function typing(){
if(i < text.length){
document.getElementById("typed").innerHTML += text.charAt(i);
i++;
setTimeout(typing,80);
}
}
typing();

function mostrarPregunta(){
document.getElementById("final").innerHTML =
"Hoy no solo quiero preguntarte algo‚Ä¶ quiero prometerte que siempre elegir√© caminar contigo. ¬øAceptas seguir construyendo nuestro futuro juntos?";
document.getElementById("respuesta").style.display = "block";
}


// Modal galer√≠a
function openModal(src){
document.getElementById("myModal").style.display="block";
document.getElementById("modalImg").src=src;
}

function closeModal(){
document.getElementById("myModal").style.display="none";
}

// corazones
setInterval(()=>{
const heart=document.createElement("div");
heart.classList.add("heart");
heart.innerHTML="‚ù§";
heart.style.left=Math.random()*100+"vw";
heart.style.fontSize=Math.random()*20+15+"px";
document.body.appendChild(heart);
setTimeout(()=>{heart.remove();},7000);
},600);

// üì∏ Generador autom√°tico de 15 fotos
const gallery = document.getElementById("gallery");

for(let i = 1; i <= 15; i++){
    const img = document.createElement("img");
    img.src = "img/" + i + ".jpg";
    img.onclick = function(){
        openModal(this.src);
    };
    gallery.appendChild(img);
}
// üéµ Intentar autoplay
const musica = document.getElementById("musica");

// Intento autom√°tico al cargar
window.addEventListener("load", () => {
    musica.volume = 0.5; // volumen 50%
    const playPromise = musica.play();

    if (playPromise !== undefined) {
        playPromise.catch(() => {
            // Si el navegador bloquea autoplay,
            // se activar√° al primer clic
            document.addEventListener("click", activarMusicaUnaVez);
        });
    }
});

function activarMusicaUnaVez() {
    musica.play();
    document.removeEventListener("click", activarMusicaUnaVez);
}

function respuestaSi(){
    document.getElementById("final").innerHTML =
    "Prometo apoyarte, cuidarte y querer lo mejor para ti todos los d√≠as de mi vida ‚ù§Ô∏è‚ú®";

    explosionEstrellas();
    aumentarMusica();
}

function respuestaSiempre(){
    document.getElementById("final").innerHTML =
    "Entonces que el universo sea testigo‚Ä¶ porque lo nuestro es para siempre üí´‚ù§Ô∏è";

    explosionEstrellas();
    aumentarMusica();
}
function explosionEstrellas(){
    for(let i = 0; i < 100; i++){
        const estrella = document.createElement("div");
        estrella.innerHTML = "‚ú®";
        estrella.style.position = "fixed";
        estrella.style.left = "50%";
        estrella.style.top = "50%";
        estrella.style.fontSize = "20px";
        estrella.style.transform = "translate(-50%, -50%)";
        estrella.style.zIndex = "9999";

        document.body.appendChild(estrella);

        const x = (Math.random() - 0.5) * 800;
        const y = (Math.random() - 0.5) * 800;

        estrella.animate([
            { transform: "translate(-50%, -50%)", opacity: 1 },
            { transform: `translate(${x}px, ${y}px)`, opacity: 0 }
        ], {
            duration: 1500,
            easing: "ease-out"
        });

        setTimeout(() => estrella.remove(), 1500);
    }

    // pulso de fondo
    document.body.style.transition = "background 0.5s";
    document.body.style.background = "#3a0ca3";
    setTimeout(() => {
        document.body.style.background = "#000814";
    }, 500);
}

function aumentarMusica(){
    let vol = musica.volume;
    const subir = setInterval(() => {
        if(vol < 0.8){
            vol += 0.05;
            musica.volume = vol;
        } else {
            clearInterval(subir);
        }
    }, 200);
}

// üåå Fondo reacciona a la m√∫sica (MEJORADO)
setInterval(() => {

    if(musica && !musica.paused){

        const intensidad = Math.sin(musica.currentTime * 4);

        const nuevaOpacidad = 0.5 + (intensidad * 0.3);

        document.querySelector(".nebula").style.opacity = nuevaOpacidad;

        // peque√±o zoom din√°mico
        const escala = 1 + (intensidad * 0.05);
        document.querySelector(".nebula").style.transform = `scale(${escala})`;

    }

}, 80);

// üéÆ JUEGO ATRAPA CORAZONES
let score = 0;
let juegoActivo = false;

function iniciarJuego(){
    score = 0;
    juegoActivo = true;
    document.getElementById("score").innerText = score;
    generarCorazones();
}

function generarCorazones(){

    if(!juegoActivo) return;

    const heart = document.createElement("div");
    heart.innerHTML = "‚ù§Ô∏è";
    heart.style.position = "fixed";
    heart.style.fontSize = "30px";
    heart.style.left = Math.random() * window.innerWidth + "px";
    heart.style.top = "-50px";
    heart.style.cursor = "pointer";
    heart.style.zIndex = "9999";

    document.body.appendChild(heart);

    let posicion = 0;

    const caer = setInterval(() => {
        posicion += 4;
        heart.style.top = posicion + "px";

        if(posicion > window.innerHeight){
            heart.remove();
            clearInterval(caer);
        }
    }, 20);

    heart.onclick = () => {
        score++;
        document.getElementById("score").innerText = score;
        heart.remove();
        clearInterval(caer);

        if(score >= 14){
            juegoActivo = false;
            victoriaJuego();
        }
    };

    setTimeout(generarCorazones, 800);
}

function victoriaJuego(){
    document.getElementById("final").innerHTML =
    "Ganaste ‚ù§Ô∏è Pero el verdadero premio es seguir construyendo nuestra historia juntos, üí´‚ú®<br> puedes pedirme lo que desees <3";

    explosionEstrellas();
}


</script>

</body>
</html>
